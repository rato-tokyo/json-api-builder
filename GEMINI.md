## 開発環境
- **OS**: Windows 11
- **Shell**: PowerShell 7.5

---

## コード品質の維持とCIワークフロー

このプロジェクトでは、コミット前にローカルでコード品質チェックを行うことで、CIワークフローの成功を保証する体制を推奨しています。

**コミット前のルール:**
**必ず `品質チェックコマンド` を実行し、すべてのチェックが成功することを確認してください。**
これにより、GitHub Actionsで実行されるワークフローとの乖離がなくなり、CIの失敗を防ぐことができます。

---

### 品質チェックコマンド (コミット前に実行)

CIで実行される内容と完全に一致しています。これらのコマンドがすべて成功すれば、CIも成功します。

```shell
# 1. ruffによるリントエラーのチェック
ruff check .

# 2. ruffによるフォーマットのチェック
ruff format . --check

# 3. vultureによる未使用コードの検出
vulture . --min-confidence 80

# 4. mypyによる型チェック
mypy json_api_builder/
```

**mypyに関する注記:**
SQLAlchemyの動的な性質により、`mypy`はいくつかの型エラーを誤って検出します。これを解決するため、`pyproject.toml`の`[tool.mypy]`セクションで、特定のエラーコードを意図的に無効化しています。

### 自動修正コマンド (任意)

品質チェックで問題が検出された場合に、それらを自動で修正するためのコマンドです。

```shell
# ruffによるリントエラーの自動修正とコードフォーマット
ruff check . --fix
ruff format .
```
---
## Gitのコミットについて

PowerShellなどの一部のシェルでは、コミットメッセージにスペースが含まれていると、引数の解釈で予期せぬエラーが発生することがあります。

トラブルを避けるため、コミットメッセージは**スペースを含まない一文**にするか、複数単語の場合はクォーテーションで囲まずにハイフンでつなぐことを推奨します。

**良い例:**
```shell
git commit -m "feat:add-new-feature"
```
---
## ユーザーからの問い合わせ対応について

ユーザーからの問い合わせに対する回答は、後から参照できるよう、必ずMarkdownファイルとして生成し、`docs/inquiries/`ディレクトリに保存してください。

ファイル名は `YYYYMMDD_inquiry_summary.md` のように、日付と内容の要約を含めることを推奨します。

---
### ライブラリ情報の収集について

ライブラリの情報を得るときは、mcpのcontext7を使って情報を集めることを優先してください。通常のネット検索よりも情報が最新で質が高いためです。
